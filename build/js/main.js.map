{"version":3,"file":"main.js","sources":["../../src/js/add-to-cart-fly.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  const cards = document.querySelectorAll(\".js-product\"),\r\n        shopping_cart = document.querySelector(\".js-basket-total\"),\r\n\t      shopping_cart_count = document.querySelector(\".js-basket-count\"),\r\n        cart_btns = document.querySelectorAll(\".js-add-basket\");\r\n\r\n  let left = 0,\r\n      card_size = 25.4,\r\n      total_card_size = cards.length * card_size - card_size * 4;\r\n\r\n  if (window.matchMedia(\"(max-width: 768px)\").matches) {\r\n    card_size = 52;\r\n    total_card_size = cards.length * card_size - card_size * 2;\r\n  }\r\n\r\n  function checkArrowVisibility(pos) {\r\n    if (pos == 0) {\r\n      left_arrow.style.opacity = \"0\";\r\n    } else {\r\n      left_arrow.style.opacity = \"1\";\r\n    }\r\n    if (pos >= total_card_size) {\r\n      right_arrow.style.opacity = \"0\";\r\n    } else {\r\n      right_arrow.style.opacity = \"1\";\r\n    }\r\n  }\r\n\r\n  // Fly To Shopping Cart Effect\r\n  for (let cart_btn of cart_btns) {\r\n    cart_btn.onclick = (e) => {\r\n      shopping_cart.classList.add(\"active\");\r\n\r\n      let product_count = Number(shopping_cart_count.getAttribute('data-product-count')) || 0;\r\n      shopping_cart_count.setAttribute('data-product-count', product_count + 1);\r\n\t\t\tshopping_cart_count.textContent = product_count + 1;\r\n\r\n      // finding first grand parent of target button\r\n      let target_parent = e.target.closest(\".js-product\"),\r\n          target_parentSlide = e.target.closest(\".js-product\");\r\n\r\n      target_parent.style.zIndex = \"100\";\r\n      if (target_parentSlide) {\r\n        target_parentSlide.style.zIndex = \"100\";\r\n      }\r\n\r\n      // Creating separate Image\r\n      let img = target_parent.querySelector(\".js-product__img\"),\r\n          flying_img = img.cloneNode();\r\n\r\n      flying_img.classList.add(\"flying-img\");\r\n\r\n      target_parent.appendChild(flying_img);\r\n\r\n      // Finding position of flying image\r\n\r\n      const flying_img_pos = flying_img.getBoundingClientRect(),\r\n            shopping_cart_pos = shopping_cart.getBoundingClientRect();\r\n\r\n      let data = {\r\n        left:\r\n          shopping_cart_pos.left -\r\n          (shopping_cart_pos.width / 2 +\r\n            flying_img_pos.left +\r\n            flying_img_pos.width / 2 -\r\n            40),\r\n        top: shopping_cart_pos.bottom - flying_img_pos.bottom - 80,\r\n      };\r\n\r\n      flying_img.style.cssText = `\r\n                                  --left : ${data.left.toFixed(2)}px;\r\n                                  --top : ${data.top.toFixed(2)}px;\r\n                                  `;\r\n\r\n      setTimeout(() => {\r\n        target_parent.style.zIndex = \"\";\r\n        if (target_parentSlide) {\r\n          target_parentSlide.style.zIndex = \"\";\r\n        }\r\n        target_parent.removeChild(flying_img);\r\n        shopping_cart.classList.remove(\"active\");\r\n      }, 2000);\r\n    };\r\n  }\r\n});\r\n"],"names":["document","addEventListener","cards","querySelectorAll","shopping_cart","querySelector","shopping_cart_count","cart_btns","card_size","total_card_size","length","window","matchMedia","matches","cart_btn","onclick","e","classList","add","product_count","Number","getAttribute","setAttribute","textContent","target_parent","target","closest","target_parentSlide","style","zIndex","flying_img","cloneNode","appendChild","flying_img_pos","getBoundingClientRect","shopping_cart_pos","data","left","width","bottom","cssText","toFixed","top","removeChild","remove"],"mappings":"yBAAAA,SAASC,iBAAiB,mBAAoB,iBACtCC,EAAQF,SAASG,iBAAiB,eAClCC,EAAgBJ,SAASK,cAAc,oBACxCC,EAAsBN,SAASK,cAAc,oBAC5CE,EAAYP,SAASG,iBAAiB,sBAGxCK,EAAY,KACZC,EAAkBP,EAAMQ,OAASF,EAAwB,EAAZA,EAE7CG,OAAOC,WAAW,sBAAsBC,YAC9B,KACMX,EAAMQ,OAASF,EAAwB,EAAZA,OAiB1C,IAAIM,KAAYP,IACVQ,QAAWC,CAAAA,MACJC,UAAUC,IAAI,cAExBC,EAAgBC,OAAOd,EAAoBe,aAAa,wBAA0B,IAClEC,aAAa,qBAAsBH,EAAgB,KACtDI,YAAcJ,EAAgB,MAG3CK,EAAgBR,EAAES,OAAOC,QAAQ,eACjCC,EAAqBX,EAAES,OAAOC,QAAQ,iBAE5BE,MAAMC,OAAS,MACzBF,MACiBC,MAAMC,OAAS,WAKhCC,EADMN,EAAcnB,cAAc,oBACjB0B,cAEVd,UAAUC,IAAI,gBAEXc,YAAYF,SAIpBG,EAAiBH,EAAWI,wBAC5BC,EAAoB/B,EAAc8B,4BAEpCE,QAEAD,EAAkBE,MACjBF,EAAkBG,MAAQ,EACzBL,EAAeI,KACfJ,EAAeK,MAAQ,EACvB,QACCH,EAAkBI,OAASN,EAAeM,OAAS,MAG/CX,MAAMY,wDACsBJ,EAAKC,KAAKI,QAAQ,oDACnBL,EAAKM,IAAID,QAAQ,uDAG5C,OACKb,MAAMC,OAAS,GACzBF,MACiBC,MAAMC,OAAS,MAEtBc,YAAYb,KACZb,UAAU2B,OAAO,WAC9B"}